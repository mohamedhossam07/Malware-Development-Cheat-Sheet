#include <windows.h>
#include <iostream>
#include <tlhelp32.h>

using namespace std;

int main(){

HANDLE hSnapshot = CreateToolhelp32Snapshot(TH32CS_SNAPPROCESS,0);
PROCESSENTRY32 pe;
pe.dwSize = sizeof(pe);
Process32First(hSnapshot,&pe);
do{
cout <<pe.szExeFile<<" : "<<pe.th32ProcessID << " : "<<pe.szExeFile<<endl;
} while(Process32Next(hSnapshot,&pe));
CloseHandle(hSnapshot);
return 0;
}
